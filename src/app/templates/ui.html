<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>LLM Prompt Engineering Page</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <style>
        textarea.textarea-autosize {
            height: 2.25rem;
            min-height: 2.25rem;
            resize: none;
            overflow-y:hidden;
        }

        textarea.textarea-autosize.form-control-lg {
            height: 3.75rem;
            min-height: 3.75rem;
        }

        textarea.textarea-autosize.form-control-sm {
            height: 2rem;
            min-height: 2rem;
        }
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
</head>
<body>
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,500,500i,700,700i" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <div class="container" style="height: 120%">
        <div class="row my-4">
            <div class="col">
                <div class="jumbotron">
                    <div class="form-floating mb-3">
                        <textarea type="textarea" class="form-control js-auto-size" id="prompt" placeholder="Prompt"></textarea>
                        <label for="floatingInput">Prompt</label>
                    </div>
                    <div class="form-check">
                        <input type="checkbox" id="rawInputCheckbox" class="form-check-input">
                        <label for="rawInputCheckbox" class="form-check-label" data-toggle="tooltip" data-placement="bottom" title="If this box is checked then the exact payload will be sent to the model server. If this box is un-checked then the input will be wrapped in Vertex AI's request format.">Send raw input</label>
                    </div>
                    <button  class="btn btn-primary" id="submit" type="submit" value = "submit">Submit</button>
                    <br><br><br>
                    <div class="form-floating">
                        <textarea class="form-control js-auto-size" id="response" placeholder="Inferencing response"></textarea>
                        <label for="response">Inferencing response</label>
                    </div>
                    <div>
                        <p id="response-metrics"></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

<script src="/static/infer.js"></script>

<script crossorigin type="module">
    import { TextareaAutoSize } from '/static/textarea-autosize.js'
    var wrappers = [];
    document.querySelectorAll('textarea.js-auto-size').forEach((e) => wrappers.push(new TextareaAutoSize(e)));
</script>